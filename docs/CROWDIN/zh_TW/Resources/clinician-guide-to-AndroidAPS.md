# 給臨床醫生的介紹與指南

本頁面是為對開源人工胰臟技術如 AAPS 感興趣的臨床醫生或想與其臨床醫生分享此類資訊的患者設計的。

本指南提供了一些有關 DIY 閉環系統的高階資訊，特別是 AAPS 的運作方式。 有關這些主題的更多詳細資訊，請查看[AAPS 線上完整文件](../index.md)。 如果你有疑問，請向你的患者詢問更多詳情，或隨時向社群提出問題。 （如果你不使用社交媒體（如 [Twitter](https://twitter.com/kozakmilos) 或 Facebook），也可以隨時發送電子郵件至 developers@AndroidAPS.org）。 [你也可以在此找到一些最新的研究與結果相關資料](https://openaps.org/outcomes/)。

## 建立 DIY 閉環系統的步驟：

開始使用 AAPS，請按照以下步驟操作：

* 找到[相容的幫浦](../Getting-Started/CompatiblePumps.md)、[相容的 Android 設備](../Getting-Started/Phones.md)和[相容的 CGM 來源](../Getting-Started/CompatiblesCgms.md)。
* [下載 AAPS 原始碼並建立軟體](../SettingUpAaps/BuildingAaps.md)。
* [配置軟體以連線到糖尿病設備並指定設定與安全偏好](../SettingUpAaps/SetupWizard.md)。

## DIY 閉環系統的工作原理

在沒有閉環系統的情況下，糖尿病患者需要從幫浦和 CGM 獲取資料，決定應該採取的措施，並執行這些措施。

在自動胰島素輸送系統中，系統執行相同的操作：他從幫浦、CGM 及其他紀錄資訊的來源（如 Nightscout）收集資料，使用這些資訊進行計算，並決定需要多少胰島素（超過或低於基礎速率），然後使用臨時基礎速率進行必要的調整，以保持或最終將血糖控制在目標範圍內。

如果運行 AAPS 的裝置故障或超出幫浦的連線範圍，一旦最新的臨時基礎速率結束，幫浦將恢復為一般幫浦模式，並依照預先設定的基礎速率運行。

## 資料如何收集：

在 AAPS 中，Android 設備運作一個特殊的應用程式來進行計算，設備透過藍牙與支援的幫浦連線。 AAPS 可以透過 Wi-Fi 或行動網路與其他設備及雲端進行通訊，以收集額外的資訊，並向患者、照護者和親人報告系統的工作情況和原因。

Android 設備需要：

* 與幫浦連線並讀取歷史紀錄 - 已輸送多少胰島素
* 與 CGM 直接或透過雲端通訊 - 查看目前及歷史血糖變化

當設備收集到這些資料後，演算法將根據設定（ISF、碳水比例、DIA、目標等）進行決策。 如果需要，他會向幫浦發出指令以修改胰島素輸送速率。

他還會收集有關注射劑量、碳水化合物攝取及臨時目標調整的資訊，從幫浦或 Nightscout 用於計算胰島素輸送速率。

## 系統如何知道該做什麼？

開源軟體設計使設備能夠輕鬆執行人們以前（手動模式下）進行的胰島素輸送調整計算。 他首先收集所有支援設備及雲端的資料，準備資料並進行計算，預測未來幾小時的血糖數值變化，並計算出所需的調整以保持或將血糖恢復到目標範圍。 接著，他向幫浦發送必要的調整。 然後他回讀資料，並不斷重複這個過程。

由於最重要的輸入參數是來自 CGM 的血糖資料，因此擁有高品質的 CGM 資料至關重要。

AAPS 設計用來透明地追蹤其收集的所有輸入資料、產生的建議及採取的任何行動。 因此，隨時可以透過查看日誌來回答「為什麼他要執行 X 操作？」這類問題。

## AAPS 演算法決策的範例：

AAPS 使用了與 OpenAPS 相同的核心演算法和功能集。 演算法會根據設定和目前情況進行多種預測，代表未來可能發生的不同情景。 在 Nightscout 中，這些顯示為「紫色線條」。 AAPS 使用不同的顏色來區分這些[預測線](#aaps-screens-prediction-lines)。 在日誌中，他會描述這些預測中的哪一條和哪個時間範圍驅動了必要的行動。

### 這裡是一些紫色預測線的範例，以及他們可能的不同：

![紫色預測線範例](../images/Prediction_lines.jpg)

### 以下是影響胰島素輸送調整所需的不同時間範圍範例：

### 情境 1 - 為安全設置零臨時基礎速率

在此範例中，血糖在短期內上升；然而，預計長期內會偏低。 事實上，預計會低於目標值*和*安全門檻值。 為了安全預防低血糖，AAPS 會發出零臨時基礎速率（0% 的臨時基礎速率），直到最終血糖（在任何時間範圍內）高於門檻值。

![劑量情境 1](../images/Dosing_scenario_1.jpg)

### 情境 2 - 為安全設置零臨時基礎速率

在此範例中，預計血糖在短期內會偏低，但預計最終會高於目標值。 然而，由於短期內的低血糖實際上低於安全門檻值，AAPS 會發出零臨時基礎速率，直到預測線不再有低於門檻值的點。

![劑量情境 2](../images/Dosing_scenario_2.jpg)

### 情境 3 - 需要更多胰島素

在此範例中，短期預測顯示目標下方的下降。 然而，預測不會低於安全門檻值。 最終血糖高於目標值。 因此，AAPS 會避免添加可能導致預測低於門檻值的胰島素。 當情況安全時，AAPS 會評估是否添加胰島素以將最終預測血糖降低至目標範圍。 *（根據設定以及所需胰島素的數量和時間安排，這些胰島素可能透過臨時基礎速率或 SMB（超微量注射）輸送。）*

![劑量情境 3](../images/Dosing_scenario_3.jpg)

### 情境 4 - 為安全設置低臨時基礎速率

在此範例中，AAPS 看到血糖大幅超過目標。 然而，由於胰島素的時間安排，體內已經有足夠的胰島素能最終將血糖恢復到範圍內。 事實上，預計血糖最終會低於目標。 因此，AAPS 不會額外提供胰島素，以避免導致長時間內的低血糖。 儘管血糖偏高/上升，但此處可能會設置低臨時基礎速率。

![劑量情境 4](../images/Dosing_scenario_4.jpg)

## 優化設定並進行變更

對於可能沒有 AAPS 或 DIY 閉環經驗的臨床醫生，幫助患者優化其設定或進行變更以改善結果可能會有挑戰性。 我們社群中有許多工具和[指南](https://openaps.readthedocs.io/en/latest/docs/Customize-Iterate/optimize-your-settings.html)，可幫助患者進行小範圍且經過測試的調整，以改善其設定。

對於患者來說，最重要的是每次只進行一項變更，並觀察 2-3 天的影響後再決定是否變更或修改另一項設定（除非該變更明顯是錯誤的，使情況變得更糟，此時他們應立即恢復到之前的設定）。 人的天性是希望同時調整所有參數，但這樣做可能會使未來的設定更次優，並且難以恢復到已知的良好狀態。

其中一個強大的工具是自動計算基礎速率、ISF 和碳水化合物比例的工具。 這個工具叫做“[Autotune](https://openaps.readthedocs.io/en/latest/docs/Customize-Iterate/autotune.html)”。 他設計為獨立/手動運作，允許資料指導你或你的患者進行設定的漸進變更。 社群中的最佳做法是在進行手動調整設定之前，先運作（或查看）Autotune 報告。 在 AAPS 中，Autotune 將作為“一次性”運作，但目前也正在努力將其直接整合到 AAPS 中。 由於這些參數既是標準幫浦胰島素輸送的前提，也是閉環胰島素輸送的前提，因此討論 Autotune 結果並調整這些參數將是與臨床醫生之間的自然聯繫。

此外，人的行為（從手動糖尿病模式中學習）也經常影響結果，即使在使用 DIY 閉環系統時也是如此。 例如，如果預測血糖會下降，AAPS 在下降過程中減少胰島素輸送，則可能只需要少量碳水化合物（例如 3-4 克碳水）即可將血糖從 70 mg/dl（3.9 mmol）上升。 然而，在許多情況下，有人可能會選擇使用更多的碳水（例如堅持使用 15 克原則），這會導致由於額外的葡萄糖和時間內減少的胰島素而引發更快的血糖峰值。

## OpenAPS

**本指南改編自[OpenAPS 臨床醫生指南](https://openaps.readthedocs.io/en/latest/docs/Resources/clinician-guide-to-OpenAPS.html)。** OpenAPS 是一種開發用來運作在小型可攜式計算機上的系統（通常稱為「裝置」）。 AAPS 採用了 OpenAPS 實現的許多技術，並共享許多邏輯和演算法，這就是為什麼本指南與原始指南非常相似。 有關 OpenAPS 的許多資訊可以輕鬆應用到 AAPS 中，主要區別在於每個軟體運作的硬體平台不同。

## 總結

這主要在對 AAPS 的運作方式進行高階概述。 有關更多詳細資訊，請諮詢你的患者，聯繫社群，或閱讀線上提供的 AAPS 完整文件。

其他推薦閱讀：

* 完整的[AAPS 文件](../index.md)
* [OpenAPS 參考設計](https://OpenAPS.org/reference-design/)，其中解釋了 OpenAPS 如何為安全設計：https://openaps.org/reference-design/
* [OpenAPS 完整文件](https://openaps.readthedocs.io/en/latest/index.html) 
  * 有關 OpenAPS 計算的更多詳情請參閱[這裡](https://openaps.readthedocs.io/en/latest/docs/While%20You%20Wait%20For%20Gear/Understand-determine-basal.html#understanding-the-determine-basal-logic)