# Конфигуратор

В зависимости от настроек, конфигуратор можно открыть с помощью вкладки в верхней части экрана или через сэндвич-меню.

![Открыть компоновщик конфигурации](../images/ConfBuild_Open_AAPS30.png)

Конфигуратор (Конф) - это вкладка, на которой можно подключать и отключать модули программы. Ячейки с левой стороны (A) позволяют выбрать, какими модулями программы вы будете пользоваться, ячейки справа (C) позволяют представить эти модули в виде вкладок (E) в AAPS. Если правая ячейка не активирована, доступ к функциям можно получить из выпадающего меню (D) в левом верхнем углу экрана.

Там, где в пределах модуля доступны дополнительные параметры, можно нажать на шестеренку (B), которая их откроет.

**Первая конфигурация:** Начиная с версии 2.0 AAPS процесс создания AAPS контролируется Мастером установки. Для его запуска нажмите на меню под тремя точками в правом верхнем углу экрана меню (F) и выберите «Мастер установки».

![Опции конфигуратора и шестеренка настроек](../images/ConfBuild_ConfigBuilder_AAPS30.png)

(Config-Builder-tab-or-hamburger-menu)=

## Вкладка или сэндвич-меню

С помощью переключателя под значком глаза вы можете решить, как открыть соответствующий раздел программы.

![Вкладка или сэндвич-меню](../images/ConfBuild_TabOrHH_AAPS30.png)

(Config-Builder-profile)=

## Профиль

* Выберите базальной профиль, который хотите использовать. См. страницу [Профили](../Usage/Profiles.md) для дополнительной информации по установке.
* Начиная с AAPS 3.0, доступен только локальный профиль.

Тем не менее, можно синхронизировать профиль Nightscout в локальный профиль. Для этого важно, однако, скопировать всю запись базы данных, состоящую из нескольких профилей в редакторе Nightscout. Следуйте инструкции ниже. Это может быть полезно, если в профиль необходимо внести существенные изменения, например, скопировать данные из таблицы.

(Config-Builder-local-profile)=

### Локальный профиль

Локальный профиль использует базальной профиль, введенный вручную в телефоне. Как только он выбран, появляется новая вкладка, можно при необходимости изменить данные профиля, считываемые с помпы. Во время следующего подключения к профилю они будут записаны в профиль 1 на помпе. Этот профиль рекомендуется поскольку он не зависит от интернет-соединения.

Ваши локальные профили являются частью [экспортируемых настроек](../Usage/ExportImportSettings.md). Поэтому убедитесь, что у вас есть резервная копия в безопасном месте.

![Параметры локального профиля](../images/LocalProfile_Settings.png)

Кнопки:

* зеленый плюс: добавить
* красный крестик: удалить
* синяя стрелка: дублировать

Если вы вносите изменения в профиль, убедитесь, что редактируете правильный профиль. На вкладке профиля не всегда отображается фактически используемый профиль, например, если вы переключили профиль, используя вкладку профиля на домашней странице, то он может отличаться от профиля, который показан на вкладке, так как между ними нет синхронизации.

#### Переключение профиля и клонирование

Вы можете легко создать новый локальный профиль с помощью переключения профиля. В этом случае сдвиг по времени и процент будет применяться к новому локальному профилю ( Ниже следует порядок входа в профиль для устаревших версий AAPS. В новых версиях вход в профиль можно выполнить из выпадающего меню в левом верхнем углу экрана или через помощник профиля в выпадвющем меню правого верхнего угла.- прим. перев.).

1. Откройте меню из трех точек в правом верхнем углу экрана.
2. Выберите 'Терапия'.
3. Нажмите звездочку для доступа к странице переключения профиля.
4. Выберите желательный профиль и нажмите "клонировать".
5. Вы можете редактировать новый локальный профиль через вкладку локальный профиль (ЛП) или через сэндвич-меню.

![Переключение профиля и клонирование](../images/LocalProfile_ClonePS_AAPS30.png)

(Config-Builder-upload-local-profiles-to-nightscout)=

#### Загрузить локальные профили в Nightscout

Локальные профили также могут быть загружены на Nightscout. Настройки можно найти в [ настройках AAPSClient ](Preferences-nsclient).

![Выгрузить локальный профиль в NS](../images/LocalProfile_UploadNS_AASP30.png)

#### Изменить профиль в редакторе профиля Nighscout

Можно синхронизировать изменения в профиле с локальными профилями в редакторе профиля Nighscout. Настройки можно найти в [ настройках AAPSClient ](Preferences-nsclient).

Необходимо клонировать активные данные всей базы данных Nightscout для профилей, а не просто профиль с синей стрелкой! Новые записи базы данных сохраняют текущую дату и могут быть активированы на вкладке "local profile".

![Клонировать записи базы данных](../images/Nightscout_Profile_Editor.PNG)

### Помощник профиля

Помощник профиля предлагает две функции:

1. Найти профиль для детей
2. Сравнить два профиля или переключателя профиля, чтобы клонировать новый профиль

Подробности разъясняются на отдельной [странице помощника профиля](../Configuration/profilehelper.md).

(Config-Builder-insulin)=

## Инсулин

![Тип инсулина](../images/ConfBuild_Insulin_AAPS30.png)

* Выберите кривую, соответствующую типу вашего инсулина.
* Варианты 'Быстро действующий Oref', Сверхбыстрый Oref' и 'Безпиковый Oref' имеют вид экспоненты. Подробная информация приведена в [документации по OpenAPS](https://openaps.readthedocs.io/en/latest/docs/While%20You%20Wait%20For%20Gear/understanding-insulin-on-board-calculations.html#understanding-the-new-iob-curves-based-on-exponential-activity-curves). 
* Кривые зависят от DIA и времени до пика.
    
    * ФИОЛЕТОВАЯ кривая показывает, сколько **инсулина осталось** после введения - его количество снижается с течением времени.
    * Синяя линия показывает ** активность инсулина**.

### DIA

* Длительность работы инсулина не одинакова для всех. Поэтому ее следует проверить самостоятельно. 
* Но она всегда должна быть минимум 5 часов.
* Многие люди, использующие ультра-короткие инсулины вроде Fiasp, отмечают что его действие спустя 3-4 часа практически незаметно, даже если остается еще порядка 0.0xx единиц. Это остаточное количество может быть ощутимо во время занятий спортом, например. Поэтому в AAPS время действия инсулина DIA указывается минимум 5 часов.
* Более подробную информацию можно прочитать в разделе "Профиль инсулина" на [ этой ](Screenshots-insulin-profile) странице.

### Различия типов инсулина

* Для 'Коротких', 'Ультракоротких' и 'Lyumjev' инсулинов время действия DIA - единственный параметр, который можно изменить, время пика фиксировано. 
* Безпиковый позволяет настроить как DIA, так и время пика, эта опция для опытных пользователей, которые знают последствия этих настроек. 
* [Диаграмма профиля инсулина](Screenshots-insulin-profile) поможет понять различия.
* Эту диаграмму можно вывести на отдельной вкладке, включив соответствующий флажок в конфигураторе, ее также можно найти в выпадающем сэндвич-меню.

#### Быстро действующий Oref

![Тип инсулина: быстродействующий Oref](../images/ConfBuild_Insulin_RAO.png)

* рекомендуется для Humalog, Novolog и Novorapid
* DIA (длительность действия инсулина) = по крайней мере 5.0 часов
* Макс. пик = 75 мин после инъекции (фиксированный, не регулируется)

#### Сверхбыстрый Oref

![Тип инсулина: сверхбыстрый Oref](../images/ConfBuild_Insulin_URO.png)

* рекомендуется для FIASP
* DIA (длительность действия инсулина) = по крайней мере 5.0 часов
* Макс. пик = 55 мин после инъекции (фиксированный, не регулируется)

(Config-Builder-lyumjev)=

#### Lyumjev

![Тип инсулина: Lyumjev](../images/ConfBuild_Insulin_L.png)

* Специальный профиль для инсулина Lyumjev
* DIA (длительность действия инсулина) = по крайней мере 5.0 часов
* Макс. пик = 45 мин после инъекции (фиксированный, не регулируется)

#### Безпиковый Oref

![Тип инсулина: Oref со свободными пиками](../images/ConfBuild_Insulin_FPO.png)

* Для профиля 'Безпиковый 0ref' можно самостоятельно ввести время пика. Для перехода к расширенным настройкам нажмите на значок шестеренки.
* Если в профиле не определено более высокое значение, DIA автоматически устанавливается на 5 часов.
* Этот инсулиновый профиль рекомендуется если используется неподдерживаемый тип инсулина или смесь различных инсулинов.

(Config-Builder-bg-source)=

## Источник данных гликемии

Выберите источник данных ГК - см. страничку [Источник ГК](BG-Source.md) для получения дополнительной информации по настройкам.

![Источник ГК в конфигураторе](../images/ConfBuild_BG.png)

* [Самостоятельно собранное приложение Dexcom (BYODA)](https://docs.google.com/forms/d/e/1FAIpQLScD76G0Y-BlL4tZljaFkjlwuqhT83QlFM5v6ZEfO7gCU98iJQ/viewform?fbzx=2196386787609383750&fbclid=IwAR2aL8Cps1s6W8apUVK-gOqgGpA-McMPJj9Y8emf_P0-_gAsmJs6QwAY-o0).
* [xDrip +](https://xdrip-plus-updates.appspot.com/stable/xdrip-plus-latest.apk)
* [MM640g](https://github.com/pazaan/600SeriesAndroidUploader/releases)
* [ Glimp ](https://play.google.com/store/apps/details?id=it.ct.glicemia&hl=de)-поддерживается только версия 4.15.57 и более поздние
* [Poctech](https://www.poctechcorp.com/en/contents/268/5682.html)
* [ПриложениеTomato](http://tomato.cool/) для устройства MiaoMiao
* [Glunovo App](https://infinovo.com/) для системы Glunovo CGM
* ГК NSClient - не рекомендуется, поскольку замкнутый цикл опирается на передачу мобильных данных / покрытие Wi-Fi в данном случае. Данные CGM будут получены только при наличии онлайн- подключения к сайту NS. Лучше использовать локальную трансляцию из одного из других источников данных мониторинга.
* Генерировать случайные данные ГК (только демо-режим)

(Config-Builder-pump)=

## Помпа

Выберите помпу, которой пользуетесь.

![Выбор помпы в Конфигураторе](../images/ConfBuild_Pump_AAPS30.png)

* [Dana R](DanaR-Insulin-Pump.md)
* DanaR Корея (DanaR для корейского рынка)
* Dana Rv2 (помпа DanaR с неофициальным обновлением прошивки)
* [Dana-i/RS](DanaRS-Insulin-Pump.md)
    
    * Для помпы Dana перейдите в **Дополнительные параметры**, и если необходимо, активируйте BT watchdog. Он отключает bluetooth на одну секунду, если подключение к помпе невозможно. Это помогает на некоторых телефонах, где зависает bluetooth.
    * [Пароль для помпы Dana RS](../Configuration/DanaRS-Insulin-Pump.md) должен быть введен правильно. Пароль не проверялся в предыдущих версиях.

* [Accu Chek Insight](Accu-Chek-Insight-Pump.md)

* [Accu Chek Combo](Accu-Chek-Combo-Pump.md) (требуется установка утилиты ruffy для сопряжения с помпой) (с новым встроенным драйвером в новых версиях AAPS уже не требуется- прим перев)
* [Omnompod Eros](OmnipodEros.md)
* [Помпа Omnipod DASH](OmnipodDASH.md)
* [Medtronic](MedtronicPump.md)
* [Diaconn G8](DiaconnG8.md)
* MDI инъекции инсулина шприцем/шприц-ручкой (на основе предложений от AAPS по ведению терапии)
* Виртуальная помпа (открытый цикл для помпы, не имеющей драйверов - только предложения)

## Определение чувствительности

Выберите тип анализа чувствительности. Для получения более подробной информации о различных типах [читайте здесь](../Configuration/Sensitivity-detection-and-COB.md). Алгоритм будет сразу же анализировать историю данных и вносить коррективы, если признает, что вы реагируете более чутко (или, наоборот, более резистентно) на инсулин, чем обычно. Подробнее об алгоритме чувствительности можно прочитать в [документации OpenAPS](https://openaps.readthedocs.io/en/latest/docs/Customize-Iterate/autosens.html).

Вы можете вывести график чувствительности на экран, отметив галочкой соответствующий пункт из выпадающего меню графиков. Он изображается в виде белой линии. Обратите внимание, что для использования Определителя чувствительности [Autosens](Open-APS-features-autosens) необходимо пройти [ Цель 8 ](Objectives-objective-8-adjust-basals-and-ratios-if-needed-and-then-enable-autosens). До достижения этой цели процент / линия Autosens на диаграмме отображается только для информации.

(Config-Builder-absorption-settings)=

### Настройки усваиваемости

Если вы применяете Oref1 с микроболюсами SMB необходимо установить **min_5m_действия углеводов** на 8. Это значение используется только во время пробелов в мониторинге или когда физическая нагрузка "съедает" весь подъем гликемии, которая в ином случае заставила бы алгоритм AAPS противодействовать углеводам COB организма. В случаях, когда [поглощение углеводов](../Usage/COB-calculation.md) не может быть рассчитано динамически на основе реакции вашей крови, он применяет скорость усвоения по умолчанию. Этот параметр не приводит к отказам.

(Config-Builder-aps)=

## Система ИПЖ

Выберите нужный алгоритм APS для ведения терапии. Подробности выбранного алгоритма можно просмотреть на вкладке OpenAPS(OAPS).

* OpenAPS AMA (расширенный помощник по питанию, Состояние алгоритма на 2017 год) Говоря простым языком, преимущества алгоритма в том, что после еды и при правильном вводе углеводов система может быстрее устанавливать временный базал.
* [Супер микро болюс OpenAPS](../Usage/Open-APS-features.md) (самый новый алгоритм для опытных пользователей). Для того, чтобы использовать этот алгоритм, вы должны начать [Цель 9](Objectives-objective-9-enabling-additional-oref1-features-for-daytime-use-such-as-super-micro-bolus-smb), а параметр min_5m_carbimpact должен быть равен 8 (см. настройки в Конфигуратор > определение чувствительности > Чувствительность Oref1).

## Замкнутый цикл

* Переключение между Открытым циклом, Заvryensv циклом и Приостановкой помпы на низкой ГК.

![Конфигуратор - режим цикла](../images/ConfigBuilder_LoopLGS.png)

(Config-Builder-open-loop)=

### Открытый цикл

* AAPS постоянно оценивает все доступные данные (активный инсулин IOB, активные углеводы COB, сахар крови и т. п.) и при необходимости делает предложения о корректировке терапии. 
* Предложения не будут выполняться автоматически (как при замкнутом цикле) а должны вводиться вручную прямо в помпу или с помощью команды (при пользовании совместимыми помпами Dana R/RS или Accu Chek Combo). 
* Этот параметр предназначен для знакомства с работой AAPS или для неподдерживаемых помп.

(Config-Builder-closed-loop)=

### Closed Loop/Замкнутый цикл (петля, контур)

* AAPS постоянно оценивает доступные данные (активный инсулин IOB, активные углеводы COB, сахар крови и т. п.) и при необходимости автоматически корректирует лечение (без вашего дальнейшего вмешательства) для достижения целевого диапазона или величины (подача болюса, временная базальная скорость, отключение подачи инсулина во избежание гипогликемии и т.д.). 
* Замкнутый цикл работает в рамках многочисленных ограничений безопасности, каждое из которых можно задать по отдельности.
* Замкнутый цикл можно инициировать только по достижении [цели 6](Objectives-objective-6-starting-to-close-the-loop-with-low-glucose-suspend) или далее с применением поддерживаемой помпы.
* Обратите внимание: в режиме Замкнутого цикла рекомендуется использовать строгое значение целевой ГК вместо диапазона значений (например, 5,5 ммоль/л или 100 мг/дл вместо 5,0 - 7,0 ммоль/л или 90 - 125 мг/дл).

### Приостановка помпы на низкой ГК

* maxIOB установлен в 0
* Это означает, что если глюкоза крови падает система уменьшит базу.
* Если значение глюкозы крови растет - автоматической коррекции не будет. База останется на том же уровне, что записан в выбранном Профиле.
* Только если базовый IOB отрицательный (от предыдущего отключения при низкой ГК) будет подан дополнительный инсулин для снижения ГК.

### Минимальный запрос на изменения

* При открытогм цикле вы будете получать уведомления каждый раз, когда AAPS рекомендует скорректировать базальную скорость. 
* Чтобы уменьшить число уведомлений, можно либо использовать более широкий диапазон целевой ГК, либо увеличить процент минимального запроса на изменения.
* Он определяет относительное изменение, необходимое для активации уведомления.

## Цели (обучающая программа)

AAPS содержит обучающую программу с рядом задач (целей), которые следует выполнить шаг за шагом. Подобная организация алгоритма безопасно проведет вас к созданию замкнутой системы. Она гарантирует, что вы все правильно наладили и понимаете, что именно делает система. Это единственный способ понять, что вы можете доверять системе.

Следует [экспортировать настройки](../Usage/ExportImportSettings.md) (в том числе ход прохождения целей) на регулярной основе. В дальнейшем, если вам потребуется заменить смартфон (новая покупка, повреждение и т. д.) вы можете просто импортировать эти параметры.

См. страницу [Цели](../Usage/Objectives.md) для дополнительной информации.

## Терапия

На вкладке Терапия отражены назначения, загруженные из nightscout. Если вы хотите редактировать или удалить запись (например, съели меньше углеводов, чем ожидали) выберите «Удалить» и введите новое значение (измените время, в случае необходимости) через [ кнопку углеводы на главном экране](Screenshots-carb-correction).

## Общие настройки

### Общие замечания

Отображает текущее состояние цикла и кнопки для наиболее распространенных действий (см. [раздел Главный экран](../Getting-Started/Screenshots.md) для подробной информации). Доступ к параметрам - через значок шестеренки.

#### Не отключать экран

Параметр «не отключать экран» заставит Android держать экран включенным постоянно. Это полезно для презентаций и т. д. Но опция потребляет больше энергии аккумулятора. Поэтому рекомендуется подключить смартфон к кабелю зарядного устройства.

#### Кнопки

Определите, какие кнопки будут отображаться на домашнем экране.

* Терапия
* Калькулятор
* Инсулин
* Углеводы
* CGM (открывает) xDrip +
* Калибровка

Кроме того можно задать короткие ссылки для приращения инсулина и углеводов и определить, должны ли диалоговые окна содержать примечания.

#### БыстрыйБолюс настройки

Создайте кнопки для некоторых стандартных блюд (углеводы и метод вычисления болюса) которые будут отображаться на главном экране. Применяйте для стандартных часто употребляемых блюд. Если для различных блюд указано разное время, у вас всегда будет оответствующая кнопка приема пищи на домашнем экране, в зависимости от времени суток.

Примечание: Кнопка не будет видна вне диапазона времени, для нее созданного или если у вас есть достаточно активного инсулина IOB на углеводы, заданные кнопкой.

![Кнопка мастера быстрой настройки](../images/ConfBuild_QuickWizard.png)

#### Временные цели по умолчанию

Выберите временные цели по умолчанию (длительность и целевые значения ГК). По умолчанию установлены следующие значения:

* ожидаемый прием пищи: цель 72 мг/дл или 4,0 ммоль/л, продолжительность 45 минут
* нагрузка: цель 140 мг/дл или 7,8 ммоль/л, продолжительность 90 минут
* гипо: цель 125 мг/дл или 6,9 ммоль/л, продолжительность 45 минут

#### Заполнить стандартное количество инсулина

Укажите значения по уполчанию для прайм заполнения катетера помпы, в зависимости от его типа и длины. 

#### Диапазон для визуализации

Укажите значения высокой и низкой ГК для отображения на графике AAPS и на умных часах. Эти параметры используется только для графического представления и не является целевыми значениями ГК. Например: 70 - 180 мг/дл или 3,9 - 10 ммоль/л

#### сокращенные имена табул

Выберите каким образом будут отображаться заголовки вкладок в AAPS: полностью (НАЧАЛО, ДЕЙСТВИЯ, MEDTRONIC, ЗАМКНУТЫЙ ЦИКЛ и т.п.) или сокращенно (НАЧАЛО, ДЕЙСТВ, MDT, ЗЦ и т.п.)

#### Показать поле примечаний в диалогах терапии

Укажите, хотите ли, чтобы при вводе команд отображалось поле для заметок.

#### Индикаторы состояния

Если хотите, можете вывести на главный экран [индикаторы состояния](Preferences-status-lights) такие как время от установки катетера, инсулина, сенсора, батареи, уровень инсулина в резервуаре или уровень заряда батареи. При достижении уровня предупреждения цвет светового сигнала состояния переключится на желтый. Критические сроки будут показаны красным цветом.

#### Расширенные настройки

**Подать часть инсулина, предложенного мастером болюса**: При пользовании алгоритмом микроболюсов SMB многие не колют все 100% сразу, а дают, например, 75% и позволяют алгоритму SMB самостоятельно справляться с остальным. При такой настройке можно выбрать процентное значение по умолчанию, с которым должен работать мастер болюса. Если этот параметр составляет 75%, а требуемое конечное количество инсулина 10 ед., то мастер болюса предложит только 7,5 единиц.

**Включить функции суперболюса в калькуляторе болюса** (Суперболюс отличается от *супер микро болюсов SMB *!): Применяйте с осторожностью и не включайте, пока не узнаете, в чем принцип его работы. В общем виде база следующих двух часов добавляется к болюсу и при этом активируется нулевой временный базал. **Другие функции алгоритма AAPS будут отключены - поэтому применяйте с осторожностью! Если вы используете алгоритм супер микро болюса SMB, то время его работы будет определяться настройками ["Макс. ограничение SMB (минут)"](Open-APS-features-max-minutes-of-basal-to-limit-smb-to); если вы не пользуетесь SMB, то алгоритм AAPS просто будет отключен на два часа.** Подробности о супер-болюсе можно найти [здесь](https://www.diabetesnet.com/diabetes-technology/blue-skying/super-bolus).

(Config-Builder-actions)=

### Действия

* Кнопки быстрого доступа к некоторым распространенным настройкам.
* Подробнее см на [снимках экрана AAPS](Screenshots-action-tab).

### Автоматизация

Пользовательские задачи автоматизации ('если-тогда-иначе'). [читайте здесь](../Usage/Automation.md).

(Config-Builder-sms-communicator)=

### СМС-коммуникатор

Позволяет удалено управлять некоторыми функциями AAPS при помощи SMS, подробнее см. [SMS команды](../Children/SMS-Commands.md).

### Еда

Отображает предустановленные характеристики еды, определенные в базе данных Nightscout, см [Nightscout Readme](https://github.com/nightscout/cgm-remote-monitor#food-custom-foods) для получения дополнительной информации по параметрам.

Примечание: Записи не могут использоваться в калькуляторе AAPS. (Только просмотр)

(Config-Builder-wear)=

### Смарт-часы Wear

Осуществляем мониторинг и контроль AAPS при помощи смарт-часов Android Wear (см. [страницу Циферблаты](../Configuration/Watchfaces.md)). Настройте параметры (шестеренка) для определения переменных, которые следует учитывать при расчете болюсов (напр. 15-минутный тренд, активные углеводы COB и т.п....).

Если вы хотите подавать болюс и т. д. с часов, тогда в настройках часов Wear следует включить «Управление с часов».

![настройки смарт-часов Wear](../images/ConfBuild_Wear.png)

При помощи вкладки Wear или многослойного сэндвич-меню (в левой верхней части экрана, если вкладка не отображается) вы можете

* Повторить отправку всех данных. Может быть полезно, если некоторое время часы не были подключены и вы хотите передать на них данные.
* Открыть настройки на часах прямо с телефона.

### Cтрока состояния xDrip (часы)

Отображает информацию о состоянии цикла на циферблате xDrip + (если вы не пользуетесь циферблатом AAPS [<AAPSv2](../Configuration/Watchfaces.md))

### клиент NS

* Настройка синхронизации данных AAPS с Nightscout.
* Настройки в [параметрах](Preferences-nsclient) можно открыть, нажав на значок шестеренки.

### Обслуживание

Адрес электронной почты и количество журналов/логов для отправки. Обычно не требует изменений.

### Конфигуратор

Используйте вкладку конфигуратора вместо выпадающего сэндвич-меню слева.